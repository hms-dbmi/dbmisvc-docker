_SOURCES_:
  - DockerMake.base.yml

alpine:
  FROM: "python:{{ PYTHON_VERSION|default('3.8') }}-alpine{{ ALPINE_VERSION|default('3.11') }}"
  requires:
    - base_meta
    - base_alpine_nginx_install
    - base_alpine_build
    - base_base_build

alpine-zip:
  FROM: "python:{{ PYTHON_VERSION|default('3.8') }}-alpine{{ ALPINE_VERSION|default('3.11') }}"
  requires:
    - base_meta
    - base_alpine_nginx_modules_install
    - base_alpine_build
    - base_base_build

debian:
  FROM: "python:{{ PYTHON_VERSION|default('3.8') }}-{{ DEBIAN_VERSION|default('stretch') }}"
  requires:
    - base_meta
    - base_debian_nginx_install
    - base_debian_build
    - base_base_build

debian-zip:
  FROM: "python:{{ PYTHON_VERSION|default('3.8') }}-{{ DEBIAN_VERSION|default('stretch') }}"
  requires:
    - base_meta
    - base_debian_nginx_modules_install
    - base_debian_build
    - base_base_build

slim:
  FROM: "python:{{ PYTHON_VERSION|default('3.8') }}-slim-{{ DEBIAN_VERSION|default('stretch') }}"
  requires:
    - base_meta
    - base_debian_nginx_install
    - base_debian_build
    - base_base_build

slim-zip:
  FROM: "python:{{ PYTHON_VERSION|default('3.8') }}-slim-{{ DEBIAN_VERSION|default('stretch') }}"
  requires:
    - base_meta
    - base_debian_nginx_modules_install
    - base_debian_build
    - base_base_build

slim-stretch:
  FROM: "python:{{ PYTHON_VERSION|default('3.8') }}-slim-stretch"
  requires:
    - base_meta
    - base_debian_nginx_install
    - base_debian_build
    - base_base_build

slim-stretch-zip:
  FROM: "python:{{ PYTHON_VERSION|default('3.8') }}-slim-stretch"
  requires:
    - base_meta
    - base_debian_nginx_modules_install
    - base_debian_build
    - base_base_build

stretch:
  FROM: "python:{{ PYTHON_VERSION|default('3.8') }}-stretch"
  requires:
    - base_meta
    - base_debian_nginx_install
    - base_debian_build
    - base_base_build

stretch-zip:
  FROM: "python:{{ PYTHON_VERSION|default('3.8') }}-stretch"
  requires:
    - base_meta
    - base_debian_nginx_modules_install
    - base_debian_build
    - base_base_build

_ALL_:
 - alpine
 - alpine-zip
 - slim
 - slim-zip
 - debian
 - debian-zip
 - slim-stretch
 - slim-stretch-zip
 - stretch
 - stretch-zip